<% nvim_session_path = '~/.local/share/nvim/sessions/' %>
<% root_path = '~/Development/Personal/codex/' %>

name: codex
root: <%= root_path %>

windows:
  - 'frontend/nvim':
      root: <%= root_path %>/frontend
      panes:
        - nvim -S <%= nvim_session_path %>codex-frontend.vim

  - 'frontend/server':
      root: <%= root_path %>/frontend
      layout: eabe,239x61,0,0{119x61,0,0,3,119x61,120,0[119x51,120,0,6,119x9,120,52,7]}
      panes:
        -
        - yarn run dev
        - yarn cypress open

  - 'backend/nvim':
      root: <%= root_path %>/backend
      panes:
        - nvim -S <%= nvim_session_path %>codex-backend.vim

  - 'backend/server':
      root: <%= root_path %>/backend
      layout: even-horizontal
      panes:
        -
        - yarn run dev
